---
import Layout from '../layouts/Layout.astro';
import Simulator from '../components/Simulator.astro';
import BenefitCard from '../components/BenefitCard.astro';
import ExpertCard from '../components/ExpertCard.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import CTASection from '../components/CTASection.astro';
import { benefits } from '../data/benefits';
import { experts } from '../data/experts';
import { testimonials } from '../data/testimonials';
import { generateFAQSchema } from '../utils/seo';

const faqs = [
  {
    question: 'Combien co√ªte une installation solaire en 2026 ?',
    answer: 'Une installation photovolta√Øque de 3 kWc co√ªte entre 6 000‚Ç¨ et 8 000‚Ç¨ TTC install√©e. Apr√®s d√©duction de la prime √† l\'autoconsommation (jusqu\'√† 370‚Ç¨/kWc), le co√ªt net se situe g√©n√©ralement entre 5 000‚Ç¨ et 7 000‚Ç¨. Le prix varie selon la puissance, le type de pose (int√©gr√© ou surimpos√©) et la r√©gion.',
  },
  {
    question: 'En combien de temps mon installation sera-t-elle rentabilis√©e ?',
    answer: 'Avec les tarifs actuels de l\'√©lectricit√© et les aides en vigueur, une installation solaire bien dimensionn√©e se rentabilise en moyenne en 6 √† 9 ans. Apr√®s cette p√©riode, l\'√©lectricit√© produite est gratuite pendant encore 15 √† 20 ans (dur√©e de vie garantie des panneaux).',
  },
  {
    question: 'Quelles aides puis-je obtenir pour mon projet solaire ?',
    answer: 'En 2026, vous pouvez b√©n√©ficier de : la prime √† l\'autoconsommation (vers√©e sur 5 ans), la TVA r√©duite √† 10% pour les installations ‚â§3 kWc, le tarif de rachat garanti pour le surplus, et potentiellement des aides locales (r√©gion, d√©partement, commune). Un conseiller peut vous aider √† identifier toutes les aides disponibles.',
  },
  {
    question: 'Faut-il une batterie pour que le solaire soit rentable ?',
    answer: 'Non, une installation solaire sans batterie est d√©j√† rentable gr√¢ce √† l\'autoconsommation directe (environ 35%) et la revente du surplus. La batterie am√©liore l\'autoconsommation (jusqu\'√† 70%) mais ajoute un co√ªt. Elle est surtout int√©ressante si vous √™tes souvent absent la journ√©e ou si vous souhaitez une autonomie en cas de coupure.',
  },
  {
    question: 'Puis-je recharger ma voiture √©lectrique avec mes panneaux solaires ?',
    answer: 'Oui, c\'est m√™me l\'une des meilleures fa√ßons d\'optimiser votre production solaire. Avec une borne de recharge intelligente, vous pouvez programmer la charge aux heures de production solaire. Combin√© √† une batterie domestique, vous pouvez atteindre 80-90% de charge solaire et rouler √† moins de 2‚Ç¨ les 100 km.',
  },
];

const faqSchema = generateFAQSchema(faqs);
---

<Layout
  title="Autonomie √ânerg√©tique | Solaire, Batteries, Bornes VE"
  description="R√©duisez votre facture d'√©lectricit√© jusqu'√† 70%. Panneaux solaires, batteries de stockage et bornes de recharge. Simulation gratuite en 30 secondes. Installateurs RGE certifi√©s."
  keywords={['panneaux solaires', 'autoconsommation', 'batterie stockage', 'borne recharge', 'photovolta√Øque', '√©conomies √©lectricit√©', 'installation solaire', '√©nergie renouvelable']}
  schema={faqSchema}
>
  <!-- HERO SECTION -->
  <section class="relative overflow-hidden gradient-hero">
    <!-- Background pattern -->
    <div class="absolute inset-0 opacity-30">
      <div class="absolute top-20 left-10 w-72 h-72 bg-primary-300 rounded-full blur-3xl"></div>
      <div class="absolute bottom-20 right-10 w-96 h-96 bg-solar-300 rounded-full blur-3xl"></div>
    </div>
    
    <div class="container-custom relative z-10 py-16 md:py-24 lg:py-32">
      <div class="max-w-4xl mx-auto text-center">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full shadow-sm mb-8">
          <span class="w-2 h-2 bg-primary-500 rounded-full animate-pulse"></span>
          <span class="text-sm font-medium text-dark-700">
            +2 500 foyers accompagn√©s en 2025
          </span>
        </div>
        
        <!-- Titre -->
        <h1 class="mb-6 text-balance">
          Reprenez le contr√¥le de votre
          <span class="text-gradient"> facture d'√©lectricit√©</span>
        </h1>
        
        <!-- Sous-titre -->
        <p class="text-xl md:text-2xl text-dark-600 mb-8 max-w-3xl mx-auto text-balance">
          Vous en avez assez des hausses tarifaires ? Passez √† l'autoconsommation solaire et 
          <strong class="text-dark-800">√©conomisez jusqu'√† 70%</strong> sur votre facture. 
          Installation cl√© en main par des artisans RGE de votre r√©gion.
        </p>
        
        <!-- Pain points -->
        <div class="flex flex-wrap justify-center gap-4 mb-10">
          <span class="inline-flex items-center gap-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg text-sm font-medium">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
            +15% sur les tarifs en 2025
          </span>
          <span class="inline-flex items-center gap-2 px-4 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm font-medium">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            Risque de coupures hivernales
          </span>
          <span class="inline-flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-700 rounded-lg text-sm font-medium">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Aides m√©connues du public
          </span>
        </div>
        
        <!-- CTA -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="#simulateur" class="btn-primary btn-lg shadow-glow-green">
            <svg class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
            Calculer mes √©conomies gratuitement
          </a>
          <a href="#solutions" class="btn-secondary btn-lg">
            D√©couvrir nos solutions
          </a>
        </div>
        
        <!-- Trust signals -->
        <div class="mt-12 flex flex-wrap justify-center items-center gap-8 text-sm text-dark-500">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span>Installateurs RGE certifi√©s</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span>Garantie d√©cennale incluse</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span>√âtude gratuite sans engagement</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Wave separator -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 100" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
        <path d="M0 50L48 45.7C96 41.3 192 32.7 288 30.8C384 29 480 34 576 41.5C672 49 768 59 864 59.2C960 59.3 1056 49.7 1152 45.8C1248 42 1344 44 1392 45L1440 46V100H1392C1344 100 1248 100 1152 100C1056 100 960 100 864 100C768 100 672 100 576 100C480 100 384 100 288 100C192 100 96 100 48 100H0V50Z" fill="white"/>
      </svg>
    </div>
  </section>

  <!-- SOLUTIONS / BENEFITS SECTION -->
  <section id="solutions" class="section">
    <div class="container-custom">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <span class="badge-solar mb-4">‚òÄÔ∏è Solutions compl√®tes</span>
        <h2 class="mb-4">
          Tout ce qu'il vous faut pour votre <span class="text-gradient">autonomie √©nerg√©tique</span>
        </h2>
        <p class="text-lg text-dark-500">
          Du panneau solaire √† la borne de recharge, nous vous accompagnons sur l'ensemble de votre projet. 
          Chaque solution est dimensionn√©e sur-mesure pour maximiser votre retour sur investissement.
        </p>
      </div>
      
      <div class="space-y-8">
        {benefits.map((benefit, index) => (
          <BenefitCard benefit={benefit} index={index} />
        ))}
      </div>
    </div>
  </section>

  <!-- SIMULATEUR -->
  <Simulator />

  <!-- T√âMOIGNAGES -->
  <section class="section">
    <div class="container-custom">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <span class="badge-green mb-4">‚≠ê Ils ont franchi le pas</span>
        <h2 class="mb-4">
          Ce que nos clients <span class="text-gradient">disent vraiment</span>
        </h2>
        <p class="text-lg text-dark-500">
          Pas de faux t√©moignages ni de chiffres gonfl√©s. Voici les retours authentiques 
          de particuliers et professionnels qui ont fait confiance √† notre r√©seau.
        </p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-2 gap-8">
        {testimonials.slice(0, 4).map((testimonial) => (
          <TestimonialCard testimonial={testimonial} />
        ))}
      </div>
    </div>
  </section>

  <!-- EXPERTS E-E-A-T -->
  <section class="section-alt">
    <div class="container-custom">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <span class="badge-electric mb-4">üéì Expertise reconnue</span>
        <h2 class="mb-4">
          Nos experts vous <span class="text-gradient">accompagnent</span>
        </h2>
        <p class="text-lg text-dark-500">
          Derri√®re chaque conseil, des professionnels avec plus de 15 ans d'exp√©rience terrain. 
          Nos experts s'appuient sur les donn√©es officielles de l'ADEME et du Minist√®re de la Transition √âcologique.
        </p>
      </div>
      
      <div class="grid lg:grid-cols-2 gap-8">
        {experts.map((expert) => (
          <ExpertCard expert={expert} />
        ))}
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section">
    <div class="container-custom">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <span class="badge-solar mb-4">‚ùì Questions fr√©quentes</span>
        <h2 class="mb-4">
          Les r√©ponses √† vos <span class="text-gradient">interrogations</span>
        </h2>
        <p class="text-lg text-dark-500">
          Pas de jargon technique, des r√©ponses claires et honn√™tes aux questions 
          que vous vous posez avant de vous lancer.
        </p>
      </div>
      
      <div class="max-w-3xl mx-auto space-y-4">
        {faqs.map((faq, index) => (
          <details class="group card cursor-pointer" open={index === 0}>
            <summary class="flex items-center justify-between font-semibold text-dark-900 list-none">
              <span class="pr-4">{faq.question}</span>
              <svg class="w-5 h-5 text-primary-600 flex-shrink-0 transition-transform group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <p class="mt-4 text-dark-600 leading-relaxed">
              {faq.answer}
            </p>
          </details>
        ))}
      </div>
      
      <p class="text-center mt-8 text-dark-500">
        Une autre question ? 
        <a href="#simulateur" class="text-primary-600 font-semibold hover:underline">
          Contactez un conseiller
        </a>
      </p>
    </div>
  </section>

  <!-- CTA FINAL -->
  <CTASection 
    title="Votre ind√©pendance √©nerg√©tique commence aujourd'hui"
    subtitle="Rejoignez les 2 500+ foyers qui ont d√©j√† r√©duit leur facture. Simulation gratuite et sans engagement."
    variant="dark"
  />
</Layout>
